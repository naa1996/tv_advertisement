{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ title }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'todo/main.css' %}"/>
</head>
<body class="text-center">
<h3><a href="{% url 'index' %}">Реклама77</a></h3>
    <a href="{% url 'customer' %}">Клиенты</a>
    <a href="{% url 'advertisement' %}">Реклама</a>
    <a href="{% url 'broadcast' %}">Передачи</a>
    <a href="{% url 'rating' %}">Рейтинг</a>
    <a href="{% url 'calculation' %}">Расчёт</a>
<h1>Реклама</h1>
<div class="text-center">
    <ul>
        <table style="margin: auto">
            <tbody>
            <tr>
                <th>Название</th>
                <th>Краткое описание</th>
                <th>Продолжительность(сек.)</th>
                <th>Дни недели</th>
                <th>Количество повторов</th>
                <th>Стоимость(за одну программу)</th>
                <th>Заказчик</th>
                <th>Статус</th>
                <th>Изменение статуса</th>
            </tr>
            {% for tvad in advertisement_all %}
            <tr>
                <td>{{ tvad.name }}</td>
                <td>{{ tvad.description }}</td>
                <td>{{ tvad.duration }}</td>
                <td>{{ tvad.day_week }}</td>
                <td>{{ tvad.number_repetitions }}</td>
                <td>{{ tvad.cost }}</td>
                <td>{{ tvad.customer }}</td>
                <td>{{ tvad.status }}</td>
                <td>
                    <form action="{% url 'updateStatusAdv' %}" value="" class="text-center" enctype="multipart/form-data" method="post">
                        {% csrf_token %}
                        <select name="status">
                            <option value="{{ 1 }}">Активна</option>
                            <option value="{{ 2 }}">Не активна</option>
                        </select>
                        <input type="text" name="id_adv" value="{{ tvad.id }}" disable hidden>
                        `<input class="inp" type="submit" name="status_b" value="Подтвердить">
                    </form>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </ul>
</div>
<div class="cont">
    <div class="forma">
        <h3>Добавить рекламу</h3>
            <form class="form-create" method="post" action="{% url 'create_advertisement' %}" value="" enctype="multipart/form-data" style="margin: auto">
            {% csrf_token %}
                <label class="mb-2">Наименование</label>
                <div class="mb-3">
                    <input type="text" name="name" id="name" placeholder="Введите название">
                </div>
                <label class="mb-2">Описание</label>
                <div class="mb-3">
                    <input type="text" name="desc" id="desc" placeholder="Введите название">
                </div>
                <label class="mb-2">Продолжительность</label>
                <div class="mb-3">
                    <input type="text" name="dur" id="dur" placeholder="Введите название">
                </div>
                    <label class="mb-2">Дни недели</label>
                <div class="mb-3">
                    <input type="text" name="day_week" id="day_week" placeholder="Введите дни">
                </div>
                <label class="mb-2">Количество повторов</label>
                <div class="mb-3">
                    <input type="text" name="number_repetitions_r" id="number_repetitions_r" placeholder="Введите количество">
                </div>
                <label class="mb-2">Стоимость за одну передачу</label>
                <div class="mb-3">
                    <input type="text" name="cost_r" id="cost_r" placeholder="Стоимость">
                </div>
                <label class="mb-2">Заказчик</label>
                <div class="mb-3">
                    <select class="form-control" id="customer" name="selected_customer" style="width: 200px;margin: auto">
                        {% for tvad in customer_all %}
                            <option value="{{ tvad.id }}">{{ tvad.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="text-center">
        {#            <input type="`text`" name="id_post" id="id_post" value="{{ user.id }}" disable hidden>#}
        {#            <input type="`email`" name="email" id="email" value="{{ user.email }}" disable hidden>#}
                    <input type="`text`" name="status" id="status" value="{{ 2 }}" disable hidden>
        {#            <input type="`text`" name="achievement" id="achievement" value="{{ 'Молодец! Ты помог природе! Ей стало полегче' }}" disable hidden>#}
                        <button type="submit" class="main_button" id="btncreate" style="margin-bottom: 20px;">Добавить рекламу</button>
                        <input type="hidden" name="next" value="{{ next }}" />
                </div>
            </form>
    </div>
    <br>
        <div class="info mb-3">
        <h3>Информация</h3>
            <p>Данная страница "Реклама" содержит информацию о рекламных продуктах,<br>
                а форма для добавления нового рекламного ролика находится на странице Расчёт.<br>
                Также на данной странице имеется возможность активировать рекламные продукты<br>
                путем выбора статуса и нажатия кнопки подтверждения<br>
                В форме добавления новой рекламы есть ограничения на:
                    <ul class="" style="list-style-type: disc">
                        <li>отправку пустой формы</li>
                        <li>добавление клиента с существующим именем и описанием в систему</li>
                        <li>добавление дней недели не по порядку</li>
                        <li>добавление дней недели и продолжительность рекламы неверного формата </li>
                        <li>добавление количества повторов и стоимости неверного формата </li>
                        <li>добавление количества повторов и стоимости меньше или равного нулю </li>
                    </ul>
                Более подробно с инструкцией можно ознакомиться по <a href="https://disk.yandex.ru/i/iTa8IC4639cbpg">ссылке</a>.
            </p>
                <div class="row" style="justify-content: center">
                    {% for massage in messages %}
                        <ul class="{{ massage.tags }}">
                            {% if 'saveAD' in massage.tags %}{{ massage|safe }}{% else %}{{ massage }}{% endif %}
                        </ul>
                    {% endfor %}
                </div>
        </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>